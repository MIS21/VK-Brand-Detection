# VK Brand Detection


## Оглавление
- [Описание](#описание)
- [Установка](#установка)
- [Использование](#использование)
- [Структура проекта](#структура-проекта)
- [Особенности](#особенности)
- [Лицензия](#лицензия)

## Описание

Этот проект представляет собой веб-приложение на базе FastAPI, которое проводит поиск пользователей ВКонтакте, загружает их фотографии и использует модель YOLO для распознавания брендов на этих фотографиях.


## Установка

### Запуск с помощью Docker

1. Клонируйте репозиторий:

```bash
git clone https://github.com/ваш-репозиторий/vk-brand-detection.git
```

2. Перейдите в директорию проекта:

```bash
cd vk-brand-detection
```

3. Соберите Docker-образ:

```bash
docker build -t vk-brand-detection:latest .
```

4. Запустите Docker-контейнер:

```bash
docker run -d -p 8000:8000 --name vk-brand-detection vk-brand-detection:latest
```

5. Проверьте, что приложение работает, перейдя по адресу [http://localhost:8000/search](http://localhost:8000/search).

## Использование

### Эндпоинт `/search`

Этот эндпоинт позволяет искать пользователей ВКонтакте и анализировать их фотографии на бренды.

**Запрос:**

```
GET /search
```

**Параметры:**

- `sex` (int, обязательный): 1 для женщин, 2 для мужчин
- `age_from` (int, обязательный): Минимальный возраст
- `age_to` (int, обязательный): Максимальный возраст
- `city` (int, обязательный): ID города, например, 1 для Москвы
- `count` (int, опциональный, по умолчанию: 10): Количество пользователей для поиска
- `photos` (int, опциональный, по умолчанию: 5): Количество фотографий для загрузки на пользователя
- `access_token` (string, обязательный): VK API access token

**Пример запроса:**

```
GET http://localhost:8000/search?sex=1&age_from=18&age_to=30&city=1&count=10&photos=5&access_token=YOUR_ACCESS_TOKEN
```

**Пример ответа:**

```json
{
  "brands_detected": {
    "Nike": 12,
    "Adidas": 8,
    "Puma": 4
  }
}
```

## Структура проекта

```
project-directory/
│
├── .dockerignore        # Исключение файлов из контекста сборки Docker
├── Dockerfile           # Файл для создания Docker-образа
├── main.py              # Основной файл приложения FastAPI
├── readme.md            # Описание проекта
├── requirements.txt     # Файл с зависимостями проекта
├── user_search.py       # Модуль для поиска пользователей ВКонтакте
├── vk_download.py       # Модуль для загрузки фотографий пользователей ВКонтакте
├── best.pt              # Предобученная модель YOLO для детекции брендов
```

### Файл `main.py`

Основной файл приложения FastAPI, обрабатывающий запросы и вызывающий функции загрузки и анализа изображений.

### Файл `vk_download.py`

Содержит функции для загрузки фотографий пользователей ВКонтакте.

### Файл `user_search.py`

Содержит функции для поиска пользователей ВКонтакте по заданным параметрам.

### Файл `best.pt`

Предобученная модель YOLO для обнаружения брендов на изображениях.

## Особенности

- **Быстрый поиск**: Использует VK API для быстрого поиска пользователей.
- **YOLO-модель**: Использует предобученную модель YOLO для обнаружения брендов на изображениях.
- **Docker**: Поддерживается запуск приложения в контейнере Docker.

